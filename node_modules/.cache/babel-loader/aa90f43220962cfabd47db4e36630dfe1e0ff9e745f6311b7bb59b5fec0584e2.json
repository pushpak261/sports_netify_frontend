{"ast":null,"code":"import React,{createContext,useReducer,useContext,useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";const CartContext=/*#__PURE__*/createContext();const initialState={cart:JSON.parse(localStorage.getItem('cart'))||[]};const cartReducer=(state,action)=>{switch(action.type){case'ADD_ITEM':{//identify exisitng item\nconst existingItem=state.cart.find(item=>item.id===action.payload.id);let newCart;if(existingItem){newCart=state.cart.map(item=>item.id===action.payload.id?{...item,quantity:item.quantity+1}:item);}else{newCart=[...state.cart,{...action.payload,quantity:1}];}localStorage.setItem('cart',JSON.stringify(newCart));return{...state,cart:newCart};}case'REMOVE_ITEM':{const newCart=state.cart.filter(item=>item.id!==action.payload.id);localStorage.setItem('cart',JSON.stringify(newCart));return{...state,cart:newCart};}case'INCREMENT_ITEM':{const newCart=state.cart.map(item=>item.id===action.payload.id?{...item,quantity:item.quantity+1}:item);localStorage.setItem('cart',JSON.stringify(newCart));return{...state,cart:newCart};}case'DECREMENT_ITEM':{const newCart=state.cart.map(item=>item.id===action.payload.id&&item.quantity>1?{...item,quantity:item.quantity-1}:item);localStorage.setItem('cart',JSON.stringify(newCart));return{...state,cart:newCart};}case'CLEAR_CART':{localStorage.removeItem('cart');return{...state,cart:[]};}default:return state;}};export const CartProvider=_ref=>{let{children}=_ref;const[state,dispatch]=useReducer(cartReducer,initialState);useEffect(()=>{localStorage.setItem('cart',JSON.stringify(state.cart));},[state.cart]);return/*#__PURE__*/_jsx(CartContext.Provider,{value:{cart:state.cart,dispatch},children:children});};export const useCart=()=>useContext(CartContext);","map":{"version":3,"names":["React","createContext","useReducer","useContext","useEffect","jsx","_jsx","CartContext","initialState","cart","JSON","parse","localStorage","getItem","cartReducer","state","action","type","existingItem","find","item","id","payload","newCart","map","quantity","setItem","stringify","filter","removeItem","CartProvider","_ref","children","dispatch","Provider","value","useCart"],"sources":["C:/Users/pushp/OneDrive/Desktop/client/src/component/context/CartContext.js"],"sourcesContent":["import React, {createContext, useReducer, useContext, useEffect} from \"react\";\n\nconst CartContext = createContext();\n\nconst initialState = {\n    cart: JSON.parse(localStorage.getItem('cart')) || [],\n}\n\n\nconst cartReducer = (state, action) =>{\n    switch(action.type){\n        case 'ADD_ITEM': {\n            //identify exisitng item\n            const existingItem = state.cart.find(item => item.id === action.payload.id);\n            let newCart;\n\n            if(existingItem){\n                newCart = state.cart.map(item =>\n                    item.id === action.payload.id\n                        ? {...item, quantity: item.quantity + 1}\n                        : item\n                );\n            }else {\n                newCart = [...state.cart, {...action.payload, quantity: 1 }];\n            }\n            localStorage.setItem('cart', JSON.stringify(newCart));\n            return {...state, cart:newCart};\n        }\n\n        case 'REMOVE_ITEM':{\n            const newCart = state.cart.filter(item=> item.id !== action.payload.id);\n            localStorage.setItem('cart', JSON.stringify(newCart));\n            return {...state, cart:newCart};\n        }\n\n        case 'INCREMENT_ITEM': {\n            const newCart = state.cart.map(item=>\n                item.id === action.payload.id\n                    ? {...item, quantity: item.quantity + 1}\n                    :item\n            );\n            localStorage.setItem('cart', JSON.stringify(newCart));\n            return {...state, cart:newCart};\n        }\n\n        case 'DECREMENT_ITEM': {\n            const newCart = state.cart.map(item =>\n                item.id === action.payload.id && item.quantity > 1\n                    ? {...item, quantity: item.quantity -1}\n                    :item\n            )\n            localStorage.setItem('cart', JSON.stringify(newCart));\n            return {...state, cart:newCart};\n        }\n\n        case 'CLEAR_CART': {\n            localStorage.removeItem('cart');\n            return {...state, cart:[]};\n        }\n        default:\n            return state;\n    }\n};\n\n\n\n\nexport const CartProvider = ({children}) => {\n\n    const [state, dispatch] = useReducer(cartReducer, initialState);\n\n\n    useEffect(() =>{\n        localStorage.setItem('cart', JSON.stringify(state.cart));\n    }, [state.cart]);\n\n    return (\n        <CartContext.Provider value={{cart: state.cart, dispatch}}>\n            {children}\n        </CartContext.Provider>\n    )\n}\n\nexport const useCart = () => useContext(CartContext);\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}